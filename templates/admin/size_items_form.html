{% extends 'admin/base.html' %}
{% block title %}{{ 'Редактировать' if size_item else 'Добавить' }} типоразмер{% endblock %}
{% block page_title %}{{ 'Редактировать' if size_item else 'Добавить' }} типоразмер{% endblock %}

{% block content %}
<div class="card">
    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="form-group">
            <label>Линейка продукции</label>
            <select name="product_line_id" required>
                {% for pl in product_lines %}
                <option value="{{ pl.id }}" {{ 'selected' if size_item and size_item.product_line_id == pl.id else '' }}>{{ pl.category.name }} / {{ pl.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label>Размер (например: 40/75)</label>
            <input type="text" name="size_text" value="{{ size_item.size_text if size_item else '' }}" required>
        </div>
        <div class="form-group">
            <label>Slug размера (например: 40_75)</label>
            <input type="text" name="size_slug" value="{{ size_item.size_slug if size_item else '' }}">
        </div>
        <div class="form-group">
            <label>Артикул (SKU)</label>
            <input type="text" name="sku" value="{{ size_item.sku if size_item else '' }}">
        </div>
        <div class="form-group">
            <label>Цена</label>
            <input type="number" step="0.01" name="price" value="{{ size_item.price if size_item else 0 }}">
        </div>
        <div class="form-group">
            <label>Валюта</label>
            <select name="currency">
                <option value="RUB" {{ 'selected' if not size_item or size_item.currency == 'RUB' else '' }}>RUB</option>
                <option value="USD" {{ 'selected' if size_item and size_item.currency == 'USD' else '' }}>USD</option>
                <option value="EUR" {{ 'selected' if size_item and size_item.currency == 'EUR' else '' }}>EUR</option>
            </select>
        </div>
        <div class="form-group">
            <label>Единица измерения</label>
            <input type="text" name="unit" value="{{ size_item.unit if size_item else 'шт' }}">
        </div>
        <div class="form-group">
            <label>Путь к изображению</label>
            <input type="text" name="image_path" value="{{ size_item.image_path if size_item else '' }}">
        </div>
        <div class="form-group form-check">
            <input type="checkbox" name="in_stock" id="in_stock" {{ 'checked' if size_item and size_item.in_stock else 'checked' if not size_item else '' }}>
            <label for="in_stock">В наличии</label>
        </div>
        <button type="submit" class="btn btn-primary">Сохранить</button>
        <a href="{{ url_for('admin.size_items_list') }}" class="btn btn-secondary">Отмена</a>
    </form>
</div>
{% endblock %}
