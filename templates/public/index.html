{% extends 'base.html' %}

{% block content %}
<section class="hero">
    <h1>{{ seo.h1 }}</h1>
    <p class="hero-desc">Поставки труб, изоляционных материалов и комплектующих по всей России</p>
</section>

{% if categories %}
<section class="section categories-section">
    <h2>Продукция</h2>
    <div class="categories-grid">
        {% for cat in categories %}
        <a href="/{{ cat.slug }}/" class="category-card">
            {% if cat.image_path %}
            <img src="{{ cat.image_path }}" alt="{{ cat.name }}" class="category-img">
            {% else %}
            <div class="category-img placeholder"></div>
            {% endif %}
            <h3>{{ cat.name }}</h3>
        </a>
        {% endfor %}
    </div>
    <div class="section-more">
        <a href="/catalog/" class="btn btn-primary">Весь каталог</a>
    </div>
</section>
{% endif %}

{% if news %}
<section class="section news-section">
    <h2>Новости</h2>
    <div class="news-grid">
        {% for item in news %}
        <a href="/news/{{ item.slug }}/" class="news-card">
            <div class="news-date">{{ item.date.strftime('%d.%m.%Y') if item.date else '' }}</div>
            <h3>{{ item.title }}</h3>
        </a>
        {% endfor %}
    </div>
    <div class="section-more">
        <a href="/news/" class="btn btn-secondary">Все новости</a>
    </div>
</section>
{% endif %}

<section class="section cta-section">
    <h2>Оставьте заявку</h2>
    <form action="{{ url_for('public.submit_lead') }}" method="POST" class="lead-form">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="form-row">
            <input type="text" name="name" placeholder="Ваше имя" required>
            <input type="tel" name="phone" placeholder="Телефон" required>
            <input type="email" name="email" placeholder="Email">
        </div>
        <textarea name="message" placeholder="Сообщение"></textarea>
        <button type="submit" class="btn btn-primary">Отправить заявку</button>
    </form>
</section>
{% endblock %}
