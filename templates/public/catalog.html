{% extends 'base.html' %}

{% block hero %}
<h1 class="visually-hidden">{{ seo.h1 }}</h1>
{% if hero %}
<section class="hero page-hero" style="background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('{{ hero.image }}');">
    <div class="container">
        <div class="hero-content">
            <div class="hero-main-title">{{ hero.title }}</div>
            {% if hero.subtitle %}<p class="hero-desc">{{ hero.subtitle }}</p>{% endif %}
        </div>
    </div>
</section>
{% endif %}
{% endblock %}

{% block content %}
<nav class="breadcrumbs">
    {% for crumb in breadcrumbs %}
    {% if crumb.url %}
    <a href="{{ crumb.url }}">{{ crumb.name }}</a> /
    {% else %}
    <span>{{ crumb.name }}</span>
    {% endif %}
    {% endfor %}
</nav>

{% if categories %}
<div class="categories-grid">
    {% for cat in categories %}
    <a href="/{{ cat.slug }}/" class="category-card">
        {% if cat.image_path %}
        <img src="{{ cat.image_path }}" alt="{{ cat.name }}" class="category-img">
        {% else %}
        <div class="category-img placeholder"></div>
        {% endif %}
        <div class="category-body">
            <h3>{{ cat.name }}</h3>
            {% if cat.seo_description %}
            <p class="category-desc">{{ cat.seo_description|truncate(100) }}</p>
            {% endif %}
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<p>Каталог пуст</p>
{% endif %}
{% endblock %}
